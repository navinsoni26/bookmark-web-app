<div class="collection-container">
  <h2 class="heading-1">Collections</h2>
  <table class="table">
    <thead class="table-head">
      <tr>
        <th style="width: 30%;">Name</th>
        <th >No. Of Bookmarks</th>
        <th >Show in Collection List</th>
        <th >Actions</th>
      </tr>
    </thead>
    <tbody class="table-body">
      <ng-container *ngFor="let collection of collections; index as i">
        <tr>
          <td class="name-column">
            <div>
              <svg class="expand-icon" (click)="expandCollapseArray[i] = !expandCollapseArray[i]" *ngIf="expandCollapseArray[i]">
                <use
                  xlink:href="assets/sprite.svg#icon-caret-down"
                ></use>
              </svg>
              <svg class="expand-icon" (click)="expandCollapseArray[i] = !expandCollapseArray[i]" *ngIf="!expandCollapseArray[i]">
                <use
                  xlink:href="assets/sprite.svg#icon-caret-right"
                ></use>
              </svg>
              <span>{{ collection.name }}</span>
            </div>
            
          </td>
          <td class="count-column">{{ collection.count }}</td>
          <td>
            <label class="switch">
              <input type="checkbox" [checked]="collection.show" (change)="onParentSwitchChange(collection)"/>
              <span class="slider round"></span>
            </label>
          </td>
          <td class="action-column">
            <div class="icon-btn">
              <svg class="icon-btn__icon">
                <use xlink:href="assets/sprite.svg#icon-edit"></use>
              </svg>
              <div class="icon-btn__text">Edit</div>
            </div>
            <div class="icon-btn">
              <svg class="icon-btn__icon">
                <use xlink:href="assets/sprite.svg#icon-share"></use>
              </svg>
              <div class="icon-btn__text">Share</div>
            </div>
            <div class="icon-btn">
              <svg class="icon-btn__icon">
                <use xlink:href="assets/sprite.svg#icon-delete"></use>
              </svg>
              <div class="icon-btn__text">Delete</div>
            </div>
          </td>
        </tr>
        <ng-container *ngIf="collection.children.length > 0">
          <tr *ngFor="let child of collection.children" style="background-color: #f0f0f0;" [ngStyle]="{'display' : expandCollapseArray[i] ? '' : 'none'}">
            <td class="name-column--child">{{ child.name }}</td>
            <td>{{ child.count }}</td>
            <td>
              <label class="switch">
                <input type="checkbox" [checked]="child.show" (change)="onChildSwitchChange(child)" />
                <span class="slider round"></span>
              </label>
            </td>
            <td class="action-column">
              <div class="icon-btn">
                <svg class="icon-btn__icon">
                  <use xlink:href="assets/sprite.svg#icon-edit"></use>
                </svg>
                <div class="icon-btn__text">Edit</div>
              </div>
              <div class="icon-btn">
                <svg class="icon-btn__icon">
                  <use xlink:href="assets/sprite.svg#icon-share"></use>
                </svg>
                <div class="icon-btn__text">Share</div>
              </div>
              <div class="icon-btn">
                <svg class="icon-btn__icon">
                  <use xlink:href="assets/sprite.svg#icon-delete"></use>
                </svg>
                <div class="icon-btn__text">Delete</div>
              </div>
            </td>
          </tr>
        </ng-container>
      </ng-container>
    </tbody>
  </table>
</div>
